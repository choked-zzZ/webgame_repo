:root {
  --bg: #f6efe7;
  --ink: #2b2b2b;
  --brand: #cb6a51;
  --brand-2: #f0b385;
  --ok: #3aa675;
}

/* 基础与页面容器（让整页内容水平居中） */
html, body { height: 100%; }
body{
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans CJK SC", Arial, sans-serif;
  color: var(--ink);
  background:
    radial-gradient(1200px 800px at 20% -10%, #fff6ee, transparent 70%),
    radial-gradient(1200px 800px at 120% 120%, #ffe8d6, transparent 60%),
    var(--bg);
  max-width: 1100px;        /* 版心宽度 */
  padding: 16px;            /* 页面内边距 */
  margin-left: auto;        /* 水平居中页面内容 */
  margin-right: auto;
}

/* 可选：如果你有 .game 容器，保持美观卡片效果 */
.game{
  background: #ffffffb3;
  border: 1px solid #eee;
  border-radius: 20px;
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
  padding: 16px;
}

/* 顶部信息 */
header{
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  padding:8px 4px 16px; border-bottom:1px dashed #e9d9cf;
}
header h1{font-size:20px; margin:0}
header .sub, .sub{opacity:.75; font-size:13px}

/* 控件区 */
.controls{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center; padding:14px 0 6px;
}
.controls label{display:flex; align-items:center; gap:8px; background:#fff; padding:8px 10px; border:1px solid #eee; border-radius:12px}
.controls input[type="range"]{width:140px}
.controls button{
  border:0; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; letter-spacing:.2px;
  background:linear-gradient(180deg, var(--brand-2), var(--brand)); color:white; box-shadow:0 6px 16px rgba(203,106,81,.25);
}
.controls button.secondary{background:#fff;color:var(--ink); border:1px solid #eee; box-shadow:none}
.controls .imgPicker{gap:6px}
.controls select, .controls input[type="file"]{font-size:14px}

/* 统计区 */
.stats{display:flex; gap:18px; flex-wrap:wrap; padding:6px 0 14px; font-size:14px}
.stats strong{font-variant-numeric: tabular-nums}

/* ===== 拼图区域：核心“居中 + 网格修复” ===== */
.board-wrap{
  position: relative;
  display: flex;
  justify-content: center;   /* 容器水平居中 */
  align-items: center;       /* 容器垂直对齐（行高较小时不明显） */
  gap: 14px;
}

/* 棋盘本体 */
#board{
  margin: 20px auto;         /* 让棋盘自身也可居中 */
  display: grid;
  grid-template-columns: repeat(var(--n), 1fr);  /* ★ 根据 --n 自动生成 N 列 */
  grid-template-rows: repeat(var(--n), 1fr);     /* ★ 根据 --n 自动生成 N 行 */
  gap: 2px;

  width: 80vmin;             /* 保持方形比例 */
  height: 80vmin;
  max-width: 90vw;           /* 防止超出屏幕 */
  max-height: 90vh;
}

/* 小块样式 */
.tile{
  position: relative; display:flex; align-items:center; justify-content:center;
  background-size: calc(var(--n) * 100%) calc(var(--n) * 100%);
  background-repeat: no-repeat; background-position: center;
  border: 1px solid #f0e6df; outline: none;
  cursor: pointer; user-select: none;
  transition: filter .12s ease, transform .12s ease, box-shadow .12s ease;
  font-weight: 700; font-size: clamp(10px, 2.2vmin, 18px); color:#0006; text-shadow:0 1px 0 #fff8;
}
.tile:hover{ filter: brightness(1.05) }
.tile:active{ transform: scale(.98) }
.tile.selected{ box-shadow: inset 0 0 0 3px #ffbfa8; z-index:2 }
.tile.correct{ box-shadow: inset 0 0 0 2px #abd9c8 }
.tile .num{
  position:absolute; bottom:6px; right:8px; background:#ffffffd8; padding:2px 6px; border-radius:8px; border:1px solid #eee; display:none
}
.board.show-number .tile .num{ display:block }

/* 预览图 */
.preview{
  width:180px; aspect-ratio:1/1; border-radius:14px; border:1px solid #eaded3; background:#fff;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  justify-self:start; object-fit:cover; display:none
}
.preview.visible{display:block}

/* 提示与庆祝 */
.toast{
  position:fixed; left:50%; top:24px; transform:translateX(-50%);
  background:#fff; border:1px solid #eee; padding:10px 14px; border-radius:12px; box-shadow:0 10px 26px rgba(0,0,0,.16);
  font-weight:600; z-index:5
}
.celebrate{position:absolute; inset:0; pointer-events:none; overflow:hidden}
.confetti{position:absolute; width:8px; height:12px; opacity:.9; animation: fall 1200ms linear forwards}
@keyframes fall{ to{ transform: translateY(110%) rotate(540deg)} }

/* 页脚 */
.footer{margin-top:8px; font-size:13px; opacity:.8}
.footer em{background:#fff3; padding:1px 6px; border-radius:8px}



.controls {
  display: none !important;
}

.game-title {
  text-align: center;     /* 居中 */
  font-size: 28px;        /* 字体变大，可以根据需要调整 */
  font-weight: bold;      /* 加粗，更突出 */
  margin: 20px 0;         /* 上下留白 */
  color: var(--ink);      /* 使用你主题色 */
}
